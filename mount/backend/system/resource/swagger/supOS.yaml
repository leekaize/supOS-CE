openapi: 3.0.1
info:
  title: 默认模块
  description: ''
  version: 1.0.0
tags:
  - name: 文件夹/文件管理
  - name: 模板管理
  - name: 标签管理
  - name: 用户管理
  - name: 待办中心
  - name: 健康检查
paths:
  /open-api/uns/folder/schema:
    get:
      summary: 查询文件夹schema 元数据结构
      deprecated: false
      description: 文件夹schema 定义结构
      tags:
        - 文件夹/文件管理
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties: {}
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/schema:
    get:
      summary: 查询文件schema 元数据结构
      deprecated: false
      description: 文件夹schema 定义结构
      tags:
        - 文件夹/文件管理
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties: {}
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/folder/{alias}:
    get:
      summary: 别名查询文件夹详情
      deprecated: false
      description: 根据文件夹别名查询文件夹详细信息。
      operationId: getModelDefinition
      tags:
        - 文件夹/文件管理
      parameters:
        - name: alias
          in: path
          description: 别名
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 63
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 错误码，200--正常，其他失败
                    format: int32
                  msg:
                    type: string
                    description: 错误信息
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: ID
                      name:
                        type: string
                        description: 名称
                        minLength: 1
                        maxLength: 63
                      displayName:
                        type: string
                        description: 显示名
                        maxLength: 128
                      alias:
                        type: string
                        description: 别名
                      parentAlias:
                        type: string
                        description: 父级别名
                      path:
                        type: string
                        description: 全路径
                      pathName:
                        type: string
                        description: 路径名
                      description:
                        type: string
                        description: 模型描述
                      definition:
                        type: array
                        description: 字段定义
                        items:
                          $ref: '#/components/schemas/FieldDefine'
                      extendProperties:
                        type: object
                        additionalProperties:
                          type: object
                          description: 扩展字段JSON
                        description: 扩展属性
                        properties: {}
                      templateAlias:
                        type: string
                        description: 关联的模板别名
                      updateTime:
                        type: integer
                        description: 修改时间--单位：毫秒
                        format: int64
                      createTime:
                        type: integer
                        description: 创建时间--单位：毫秒
                        format: int64
                required:
                  - data
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/{alias}:
    get:
      summary: 别名查询文件详情
      deprecated: false
      description: 根据文件别名查询文件详细信息。
      operationId: getInstanceDetail
      tags:
        - 文件夹/文件管理
      parameters:
        - name: alias
          in: path
          description: 别名
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 63
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 错误码，0--正常，其他失败
                    format: int32
                  msg:
                    type: string
                    description: 错误信息
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: 文件ID
                      name:
                        type: string
                        description: 文件名
                      displayName:
                        type: string
                        description: 显示名
                      alias:
                        type: string
                        description: 别名
                      parentAlias:
                        type: string
                        description: 父级别名
                      path:
                        type: string
                        description: 全路径
                      dataType:
                        type: integer
                        description: 1--时序，2--关系，3--计算型, 6--聚合 7--引用
                        format: int32
                      pathType:
                        type: integer
                        description: 文件类型 0--文件夹，2--文件
                        format: int32
                      definition:
                        type: array
                        description: 字段定义
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                              description: 字段名：字母开头，支持字母、数字和下划线 最长63
                            type:
                              type: string
                              description: >-
                                字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN,
                                DATETIME, STRING
                            unique:
                              type: boolean
                              description: 是否唯一约束，新建模板时，此参数不生效
                            index:
                              type: string
                              description: 对应的协议字段key，新建模板时，此参数不生效
                            displayName:
                              type: string
                              description: 显式名
                            remark:
                              type: string
                              description: 备注
                            maxLen:
                              type: integer
                              description: 最大长度(string字段类型生效)
                              format: int32
                            systemField:
                              type: boolean
                              description: 是否系统参数，新建模板时，此参数不生效
                          required:
                            - name
                            - type
                      description:
                        type: string
                        description: 描述
                      persistence:
                        type: boolean
                        description: 是否持久化
                      expression:
                        type: string
                        description: 表达式，引用用 id
                      frequency:
                        type: string
                        description: >-
                          聚合计算频率：当聚合类型时(dataType=6)的计算时间间隔，单位支持：秒:s 分钟:m
                          小时：h；如三分钟：3m
                      showExpression:
                        type: string
                        description: 用于展示的表达式，引用用 path
                      refers:
                        type: array
                        description: 引用对象
                        items:
                          $ref: '#/components/schemas/refres'
                      pathName:
                        type: string
                        description: 文件路径名
                      templateAlias:
                        type: string
                        description: 引用的模板别名
                      extendProperties:
                        type: object
                        additionalProperties:
                          type: object
                          description: 扩展字段JSON
                        description: 扩展属性
                        properties: {}
                      updateTime:
                        type: integer
                        description: 修改时间--单位：毫秒
                        format: int64
                      createTime:
                        type: integer
                        description: 创建时间--单位：毫秒
                        format: int64
                    required:
                      - frequency
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/folder/byPath:
    get:
      summary: 路径查询文件夹详情
      deprecated: false
      description: 根据路径查询文件夹详细信息。
      operationId: folderDetailByPath
      tags:
        - 文件夹/文件管理
      parameters:
        - name: path
          in: query
          description: ''
          required: false
          example: 路径
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 错误码，200--正常，其他失败
                    format: int32
                  msg:
                    type: string
                    description: 错误信息
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: ID
                      alias:
                        type: string
                        description: 别名
                      parentAlias:
                        type: string
                        description: 父级别名
                      path:
                        type: string
                        description: 全路径
                      definition:
                        type: array
                        description: 字段定义
                        items:
                          $ref: '#/components/schemas/FieldDefine'
                      description:
                        type: string
                        description: 模型描述
                      name:
                        type: string
                        description: 名称
                      displayName:
                        type: string
                        description: 显示名
                      pathName:
                        type: string
                        description: 路径名
                      extendProperties:
                        type: object
                        additionalProperties:
                          type: object
                          description: 扩展字段JSON
                        description: 扩展属性
                        properties: {}
                      templateAlias:
                        type: string
                        description: 关联的模板别名
                      updateTime:
                        type: integer
                        description: 修改时间--单位：毫秒
                        format: int64
                      createTime:
                        type: integer
                        description: 创建时间--单位：毫秒
                        format: int64
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/byPath:
    get:
      summary: 路径查询文件详情
      deprecated: false
      description: 根据路径查询文件详细信息。
      operationId: fileDetailByPath
      tags:
        - 文件夹/文件管理
      parameters:
        - name: path
          in: query
          description: ''
          required: false
          example: 路径
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 错误码，0--正常，其他失败
                    format: int32
                  msg:
                    type: string
                    description: 错误信息
                  data:
                    $ref: '#/components/schemas/InstanceDetail'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/condition/tree:
    post:
      summary: 分页查询树结构
      deprecated: false
      description: 根据条件分页查询uns ,懒加载模式，返回单层层级！
      operationId: searchTreeByCondition
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pageNo:
                  minimum: 1
                  type: integer
                  description: 当前页数，默认为1
                  format: int64
                pageSize:
                  minimum: 1
                  type: integer
                  description: 每页记录数，默认为20，最大支持1000
                  format: int64
                searchType:
                  type: integer
                  format: int32
                  description: 查询类型：1-文本 2-含标签 3-含模板
                keyword:
                  type: string
                  description: 搜索关键字：路径名称或别名
                dataType:
                  type: integer
                  description: 数据类型：1--时序，2--关系，3--计算型, 6--聚合 7--引用
                parentId:
                  type: integer
                  description: 父级ID  可为空，传0查询顶级节点，空值时查询所有
              required:
                - searchType
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  pageNo:
                    type: integer
                    description: 当前页数
                    format: int64
                  pageSize:
                    type: integer
                    description: 每页记录数
                    format: int64
                  total:
                    type: integer
                    format: int64
                  code:
                    type: integer
                    format: int64
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: ID
                        alias:
                          type: string
                          description: 别名
                        parentId:
                          type: string
                          description: 目录ID
                        parentAlias:
                          type: string
                          description: 目录别名
                        pathType:
                          type: integer
                          description: '路径类型: 0--文件夹，2--文件'
                          format: int32
                        name:
                          type: string
                          description: 名称
                        path:
                          type: string
                          description: 树的路径（全路径）
                        pathName:
                          type: string
                          description: 文件路径名
                        countChildren:
                          type: integer
                          description: 子节点数(文件)
                          format: int32
                        hasChildren:
                          type: boolean
                          description: 当前节点下是否有子的文件夹
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file:
    post:
      summary: 创建文件
      deprecated: false
      description: 创建文件，不支持批量创建！
      operationId: createFile
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: '*文件名称，和文件夹显示名一致。支持修改。最长63'
                  minLength: 1
                  maxLength: 63
                alias:
                  type: string
                  description: 文件别名。最大长度63字符，允许字符包括英文、数字、下划线。为空则系统自动生成
                  maxLength: 63
                displayName:
                  description: '*文件显示名。支持修改和重名。最大长度128字符'
                  type: string
                parentAlias:
                  type: string
                  description: 所属父文件夹别名
                  maxLength: 63
                dataType:
                  description: 1-时序，2-关系，3-实时计算（仅支持函数计算方式），6-聚合，7-引用。
                  type: integer
                description:
                  type: string
                  description: 文件描述
                  maxLength: 255
                definition:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: 字段名：字母开头，支持字母、数字和下划线 最长63
                        minLength: 1
                        maxLength: 63
                      type:
                        type: string
                        description: >-
                          字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME,
                          STRING
                      unique:
                        type: boolean
                        description: 是否唯一约束
                      displayName:
                        type: string
                        description: 显式名
                        maxLength: 128
                      remark:
                        type: string
                        description: 备注
                        maxLength: 128
                      maxLen:
                        type: integer
                        description: 最大长度(string字段类型生效)
                      systemField:
                        type: boolean
                        description: 是否系统参数
                    required:
                      - name
                      - type
                  description: 字段定义
                persistence:
                  description: 是否持久化 默认false
                  type: boolean
                refers:
                  type: array
                  items:
                    properties:
                      alias:
                        type: string
                        description: 引用的文件别名
                      field:
                        type: string
                        description: 引用的字段 当dataType为计算时，必填
                      variableName:
                        type: string
                        description: 计算文件使用的变量名，按a1、a2依次顺延
                    type: object
                    required:
                      - alias
                  description: 引用对象 当dataType为计算、聚合、引用时必填
                expression:
                  type: string
                  description: >-
                    当dataType=3时可指定表达式，a1表示refers中第一个，a2表示第二个，以此类推。允许为空或无该字段，表示暂无表达式，此时可按照1-时序的特性来处理。
                  maxLength: 255
                frequency:
                  type: string
                  description: 聚合计算频率：当聚合类型时(dataType=6)的计算时间间隔，单位支持：秒:s 分钟:m 小时：h；如三分钟：3m
                  maxLength: 10
                extendProperties:
                  type: object
                  properties:
                    k1:
                      type: string
                    k2:
                      type: string
                  description: 文件扩展Attributes 最大支持3个
                  required:
                    - k1
                    - k2
                  maxProperties: 3
                labelNames:
                  type: array
                  items:
                    type: string
                  description: 标签名称数组，支持创建文件时打标签
                templateAlias:
                  type: string
                  description: 关联的模板别名
                  maxLength: 63
                addFlow:
                  type: boolean
                  description: 是否模拟数据 默认false
                dashBoard:
                  type: boolean
                  description: 是否生成仪表盘默认false
              required:
                - name
                - dataType
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    description: 状态码 200-成功 400-参数错误 500-接口异常
                  msg:
                    type: string
                    description: 响应消息
                  data:
                    type: object
                    properties: {}
                    description: 响应数据
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/folder:
    post:
      summary: 创建文件夹
      deprecated: false
      description: 创建文件夹信息，不支持批量创建!
      operationId: createFolder
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 名称 长度63
                  maxLength: 63
                alias:
                  type: string
                  description: 别名 字母数字组合 长度63 如果为空系统自动生成
                  maxLength: 63
                displayName:
                  type: string
                  description: 显示名称 长度128
                  maxLength: 128
                parentAlias:
                  type: string
                  description: 父级文件夹别名 为空则为顶级
                  maxLength: 63
                description:
                  type: string
                  description: 描述 长度255
                  maxLength: 255
                definition:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: 字段名：字母开头，支持字母、数字和下划线 最长63
                        maxLength: 63
                      type:
                        type: string
                        description: >-
                          字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME,
                          STRING
                      unique:
                        type: boolean
                        description: 是否唯一约束，新建模板时，此参数不生效
                      index:
                        type: string
                        description: 对应的协议字段key，新建模板时，此参数不生效
                      displayName:
                        type: string
                        description: 显式名
                        maxLength: 128
                      remark:
                        type: string
                        description: 备注
                        maxLength: 128
                      maxLen:
                        type: integer
                        description: 最大长度(string字段类型生效)
                        format: int32
                      systemField:
                        type: boolean
                        description: 是否系统参数，新建模板时，此参数不生效
                    required:
                      - name
                      - type
                  description: 字段定义
                extendProperties:
                  type: object
                  properties: {}
                  description: 扩展属性 json键值对 最大支持3个
                templateAlias:
                  type: string
                  description: 关联的模板别名
                  maxLength: 63
              required:
                - name
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    description: 状态码 200-成功 400-参数错误 500-接口异常
                  msg:
                    type: string
                    description: 响应消息
                  data:
                    type: object
                    properties: {}
                    description: 响应数据
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/detail/{alias}:
    put:
      summary: 修改文件
      deprecated: false
      description: 修改文件信息
      operationId: updateFieldAndDesc
      tags:
        - 文件夹/文件管理
      parameters:
        - name: alias
          in: path
          description: ''
          required: true
          schema:
            type: string
            maxLength: 63
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                definition:
                  type: array
                  description: 字段定义
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: 字段名：字母开头，支持字母、数字和下划线 最长63
                        minLength: 1
                        maxLength: 63
                      type:
                        type: string
                        description: >-
                          字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME,
                          STRING
                      unique:
                        type: boolean
                        description: 是否唯一约束，新建模板时，此参数不生效
                      displayName:
                        type: string
                        description: 显式名
                        maxLength: 255
                      remark:
                        type: string
                        description: 备注
                        maxLength: 255
                      maxLen:
                        type: integer
                        description: 最大长度(string字段类型生效)
                        format: int32
                      systemField:
                        type: boolean
                        description: 是否系统参数，新建模板时，此参数不生效
                    required:
                      - name
                      - type
                description:
                  type: string
                  description: 描述 最长255
                  maxLength: 255
                persistence:
                  type: boolean
                  description: 是否持久化
                expression:
                  type: string
                  description: 表达式，引用用 id
                  maxLength: 255
                frequency:
                  type: string
                  description: 聚合计算频率：当聚合类型时(dataType=6)的计算时间间隔，单位支持：秒:s 分钟:m 小时：h；如三分钟：3m
                  maxLength: 255
                refers:
                  type: array
                  description: 引用对象
                  items:
                    type: object
                    properties:
                      alias:
                        type: string
                        description: 引用的文件别名
                        maxLength: 63
                      field:
                        type: string
                        description: 引用的字段  当dataType为计算时，必填
                    required:
                      - alias
                name:
                  type: string
                  description: 文件名 最长63
                  maxLength: 63
                  minLength: 1
                displayName:
                  type: string
                  description: 显示名 最长128
                  maxLength: 128
                templateAlias:
                  type: string
                  description: 引用的模板别名
                  maxLength: 63
                extendProperties:
                  type: object
                  properties: {}
                  description: 扩展属性 最多3个
                  additionalProperties:
                    type: object
                    description: 扩展字段JSON
                  maxProperties: 3
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/folder/detail/{alias}:
    put:
      summary: 修改文件夹
      deprecated: false
      description: 修改文件夹信息
      operationId: updateFolder
      tags:
        - 文件夹/文件管理
      parameters:
        - name: alias
          in: path
          description: 别名
          required: true
          schema:
            type: string
            maxLength: 63
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                definition:
                  type: array
                  description: 字段定义
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: 字段名：字母开头，支持字母、数字和下划线 最长63
                        minLength: 1
                        maxLength: 63
                      type:
                        type: string
                        description: >-
                          字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME,
                          STRING
                      displayName:
                        type: string
                        description: 显式名
                        maxLength: 255
                      remark:
                        type: string
                        description: 备注
                        maxLength: 255
                      maxLen:
                        type: integer
                        description: 最大长度(string字段类型生效)
                        format: int32
                    required:
                      - name
                      - type
                description:
                  type: string
                  description: 模型描述 最长255
                  maxLength: 255
                name:
                  type: string
                  description: 名称 最长63
                  maxLength: 63
                  minLength: 1
                displayName:
                  type: string
                  description: 显示名 最长128
                  maxLength: 128
                extendProperties:
                  type: object
                  additionalProperties:
                    type: object
                    description: 扩展字段JSON
                  description: 扩展属性 最多3个
                  properties: {}
                templateAlias:
                  type: string
                  description: 关联的模板别名
                  maxLength: 63
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/batch/alias:
    delete:
      summary: 批量删除文件夹/文件
      deprecated: false
      description: ''
      operationId: batchRemoveResultByAliasList
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                aliasList:
                  type: array
                  items:
                    type: string
                  description: |
                    需要删除的文件或文件夹别名列表
              required:
                - aliasList
            example:
              aliasList:
                - S6a5375b29c63516de6c2a82e9cbb113c
                - S442713741e4cabd860907c5e42619409
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/current/batchQuery:
    post:
      summary: 批量查询文件实时值
      deprecated: false
      description: ''
      operationId: batchQueryFile_1
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                description: 别名数组
            example:
              - 别名A
              - 别名B
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      别名A:
                        type: object
                        properties:
                          value:
                            type: integer
                            description: 值
                          status:
                            description: "质量码，十六进制\x05字符串\x05"
                            type: string
                          timeStamp:
                            type: integer
                            description: 时间戳
                        required:
                          - value
                          - status
                          - timeStamp
                        description: 查询的文件别名A
                      别名B:
                        type: object
                        properties:
                          value:
                            type: string
                          status:
                            type: string
                          timeStamp:
                            type: integer
                        required:
                          - value
                          - status
                          - timeStamp
                        description: 查询的文件别名B
                    required:
                      - 别名A
                      - 别名B
                required:
                  - code
                  - message
                  - data
              example:
                code: 200
                message: ok
                data:
                  S6a5375b29c63516de6c2a82e9cbb113c:
                    value: 3
                    status: '0'
                    timeStamp: 1742173489221
                  S442713741e4cabd860907c5e42619409:
                    value: CONTROLLER
                    status: '0'
                    timeStamp: 1741842962256
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/batchUpdate:
    post:
      summary: 批量写文件实时值
      deprecated: false
      description: ''
      operationId: batchUpdateFile
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/UpdateFileDTO'
            example:
              - alias: _monishujuwushan_df62c737229040839563
                data:
                  a: 566556
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/history/batch/query:
    post:
      summary: 批量查询文件历史值
      deprecated: false
      description: ''
      operationId: batchQueryFileHistoryValue_1
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fill:
                  $ref: '#/components/schemas/Fill'
                groupBy:
                  $ref: '#/components/schemas/GroupBy'
                limit:
                  type: integer
                  description: 返回的最大元素数目，默认1000，最大10000
                  format: int32
                offset:
                  type: integer
                  description: 偏移量，从指定条数后开始查询，例如 offset=5 表示从第6条开始查询
                  format: int32
                order:
                  type: string
                  description: 排序方式，可选值：ASC（升序）、DESC（降序）
                select:
                  type: array
                  description: >-
                    查询的字段表达式列表，例如：文件别名 'SAxxx' 或聚合函数 'first("SBxxx")' 
                    ，支持文件的指定字段查询：'文件.字段名'， 如果不指定字段名默认查询value字段
                  items:
                    type: string
                    description: >-
                      查询的字段表达式列表，例如：文件别名 'SAxxx' 或聚合函数 'first("SBxxx")' 
                      支持文件的指定字段查询：'文件.字段名'
                where:
                  type: object
                  properties:
                    and:
                      type: object
                      properties: {}
                      description: and条件
                    or:
                      type: object
                      properties: {}
                      description: or条件
                  additionalProperties:
                    type: object
                    description: 过滤条件
                  description: 过滤条件
              required:
                - where
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          properties:
                            alias:
                              description: 文件别名
                              type: string
                            function:
                              description: 聚合函数
                              type: string
                            hasNext:
                              description: 是否有下一页
                              type: boolean
                            fields:
                              type: array
                              items:
                                type: string
                              description: 字段顺序，需要保持该顺序。
                            datas:
                              type: array
                              items:
                                type: array
                                items:
                                  type: string
                              description: 该文件历史数据集合
                          required:
                            - alias
                            - function
                            - hasNext
                            - fields
                            - datas
                      "notExsistFiles\x05":
                        type: array
                        items:
                          type: string
                        description: 不存在的文件别名集合
                    required:
                      - results
                      - "notExsistFiles\x05"
                required:
                  - code
                  - message
                  - data
              example:
                fill:
                  strategy: previous
                groupBy:
                  time: 5s,1s
                limit: 1000
                offset: 23
                order: DESC
                select:
                  - SAAAAAAAAAA
                  - first("SBBBBBBBBBB")
                where:
                  and:
                    "timeStamp\x05":
                      ge: '2021-03-04T05:04:11Z'
                      gt: '2021-03-04T05:04:11Z'
                      le: '2021-03-04T05:14:11Z'
                      lt: '2021-03-04T05:14:11Z'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/file/current/batchQuery/byPath:
    post:
      summary: 根据文件路径批量查询文件实时值
      deprecated: false
      description: ''
      operationId: batchQueryFile_1_uns
      tags:
        - 文件夹/文件管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                description: 路径数组
            example:
              - a/b
              - a/b/c/d
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      别名A:
                        type: object
                        properties:
                          value:
                            type: integer
                            description: 值
                          status:
                            description: "质量码，十六进制\x05字符串\x05"
                            type: string
                          timeStamp:
                            type: integer
                            description: 时间戳
                        required:
                          - value
                          - status
                          - timeStamp
                        description: 查询的文件别名A
                      别名B:
                        type: object
                        properties:
                          value:
                            type: string
                          status:
                            type: string
                          timeStamp:
                            type: integer
                        required:
                          - value
                          - status
                          - timeStamp
                        description: 查询的文件别名B
                    required:
                      - 别名A
                      - 别名B
                required:
                  - code
                  - message
                  - data
              example:
                code: 200
                message: ok
                data:
                  S6a5375b29c63516de6c2a82e9cbb113c:
                    value: 3
                    status: '0'
                    timeStamp: 1742173489221
                  S442713741e4cabd860907c5e42619409:
                    value: CONTROLLER
                    status: '0'
                    timeStamp: 1741842962256
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/template/schema:
    get:
      summary: 查询模版schema 元数据结构
      deprecated: false
      description: 文件夹schema 定义结构
      tags:
        - 模板管理
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties: {}
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/template/{alias}:
    get:
      summary: 查询模板详情
      deprecated: false
      description: ''
      operationId: templateDetail
      tags:
        - 模板管理
      parameters:
        - name: alias
          in: path
          description: 别名
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 63
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVOTemplateVo'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    description: 状态码 200-成功 400-参数错误 500-接口异常
                  msg:
                    type: string
                    description: 响应消息
                  data:
                    description: 响应数据
                    $ref: '#/components/schemas/TemplateVo'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    put:
      summary: 修改模板
      deprecated: false
      description: ''
      operationId: updateTemplate
      tags:
        - 模板管理
      parameters:
        - name: alias
          in: path
          description: ''
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 模板名称，最长63
                  maxLength: 63
                  minLength: 1
                description:
                  type: string
                  description: 模板描述 最长255
                definition:
                  type: array
                  description: 字段定义
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: 字段名：字母开头，支持字母、数字和下划线，最长63
                        maxLength: 63
                        minLength: 1
                      type:
                        type: string
                        description: >-
                          字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME,
                          STRING
                      displayName:
                        type: string
                        description: 显式名
                        maxLength: 255
                      remark:
                        type: string
                        description: 备注
                        maxLength: 255
                      maxLen:
                        type: integer
                        description: 最大长度(string字段类型生效)
                        format: int32
                    required:
                      - name
                      - type
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    delete:
      summary: 删除模板
      deprecated: false
      description: ''
      operationId: deleteTemplate
      tags:
        - 模板管理
      parameters:
        - name: alias
          in: path
          description: 模板别名
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 63
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/template:
    get:
      summary: 查询模板列表
      deprecated: false
      description: ''
      operationId: templatePageList
      tags:
        - 模板管理
      parameters:
        - name: pageNo
          in: query
          description: 当前页数
          required: true
          example: 1
          schema:
            type: integer
        - name: pageSize
          in: query
          description: 每页记录数，默认为20，最大支持1000
          required: true
          example: 20
          schema:
            type: integer
        - name: key
          in: query
          description: 关键字查询，模版名称模糊匹配
          required: false
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/PageResultDTOTemplateSearchResult'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    post:
      summary: 新增模板
      deprecated: false
      description: ''
      operationId: createTemplate
      tags:
        - 模板管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                alias:
                  type: string
                  description: 别名，唯一，最长63，可用字符：a-zA-Z1-9_
                  maxLength: 63
                  minLength: 1
                name:
                  type: string
                  description: 模板名称，最长63
                  maxLength: 63
                definition:
                  type: array
                  description: 字段定义
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: 字段名：字母开头，支持字母、数字和下划线，最长63
                        maxLength: 63
                        minLength: 1
                      type:
                        type: string
                        description: >-
                          字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME,
                          STRING
                      displayName:
                        type: string
                        description: 显式名
                        maxLength: 255
                      remark:
                        type: string
                        description: 备注
                        maxLength: 255
                      maxLen:
                        type: integer
                        description: 最大长度(string字段类型生效)
                        format: int32
                    required:
                      - name
                      - type
                description:
                  type: string
                  description: 模板描述 最长255
                  maxLength: 255
              required:
                - definition
                - name
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVOString'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/label/schema:
    get:
      summary: 查询标签schema 元数据结构
      deprecated: false
      description: 文件夹schema 定义结构
      tags:
        - 标签管理
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties: {}
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/label:
    get:
      summary: 查询标签列表
      deprecated: false
      description: 列出所有支持的标签，下拉选择，支持模糊搜索
      operationId: allLabels
      tags:
        - 标签管理
      parameters:
        - name: pageNo
          in: query
          description: 当前页数
          required: true
          example: 1
          schema:
            type: string
        - name: pageSize
          in: query
          description: 每页记录数，默认为20，最大支持1000
          required: true
          example: 20
          schema:
            type: integer
        - name: key
          in: query
          description: 标签名称查询，支持模糊匹配
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  pageNo:
                    type: string
                    description: 当前页
                  pageSize:
                    type: string
                    description: 每页记录数
                  total:
                    type: string
                    description: 总记录数
                  code:
                    type: integer
                    format: int32
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: 标签ID
                          format: int64
                        labelName:
                          type: string
                          description: 标签名称
                        createTime:
                          type: number
                          description: 创建时间--单位：毫秒
                    description: 标签数据
                required:
                  - pageNo
                  - pageSize
                  - total
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    post:
      summary: 创建标签
      deprecated: false
      description: ''
      operationId: createLabel
      tags:
        - 标签管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                labelName:
                  type: string
                  description: 标签名称 名称仅支持中文、字母、数字、下划线（_）和连字符（-）最长63
                  maxLength: 63
                  minLength: 1
              required:
                - labelName
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    description: 状态码 200-成功 400-参数错误 500-接口异常
                  msg:
                    type: string
                    description: 响应消息
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: 标签ID
                      labelName:
                        type: string
                        description: 标签名称
                      createTime:
                        type: number
                        description: 创建时间--单位：毫秒
                    description: 响应数据
                    required:
                      - id
                      - labelName
                      - createTime
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/label/{id}:
    get:
      summary: 查询标签详情
      deprecated: false
      description: ''
      operationId: labelDetail
      tags:
        - 标签管理
      parameters:
        - name: id
          in: path
          description: ''
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: 标签ID
                      labelName:
                        type: string
                        description: 标签名称
                      createTime:
                        type: number
                        description: 创建时间--单位：毫秒
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    format: int32
                    description: 状态码 200-成功 400-参数错误 500-接口异常
                  msg:
                    type: string
                    description: 响应消息
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 标签ID
                      labelName:
                        type: string
                        description: 标签名称
                      createAt:
                        type: integer
                        description: 创建时间
                    description: 响应数据
                    required:
                      - id
                      - labelName
                      - createAt
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    put:
      summary: 修改标签
      deprecated: false
      description: ''
      operationId: updateLabel
      tags:
        - 标签管理
      parameters:
        - name: id
          in: path
          description: 标签ID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                labelName:
                  type: string
                  description: 标签名称 名称仅支持中文、字母、数字、下划线（_）和连字符（-）最长63
                  minLength: 1
                  maxLength: 63
              required:
                - labelName
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    delete:
      summary: 删除标签
      deprecated: false
      description: ''
      operationId: deleteLabel
      tags:
        - 标签管理
      parameters:
        - name: id
          in: path
          description: 标签ID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/batch/makeLabel:
    post:
      summary: 批量文件打标签
      deprecated: false
      description: ''
      operationId: makeLabel
      tags:
        - 标签管理
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  fileAlias:
                    type: string
                    description: 文件别名
                    maxLength: 63
                    minLength: 1
                  labelNames:
                    type: array
                    items:
                      type: string
                      description: 标签名称 最长63
                      maxLength: 63
                    description: 标签名称数组，如标签名称不存在，系统会自动创建
                required:
                  - fileAlias
                  - labelNames
            example: "[\r\n    {\r\n        \"fileAlias\": \"文件别名A\",//文件别名\r\n        \"labelNames\": [\r\n            \"标签A\",//标签名称\r\n            \"标签B\"\r\n        ]\r\n    },\r\n    {\r\n        \"fileAlias\": \"文件别名B\",\r\n        \"labelNames\": [\r\n            \"标签A\",\r\n            \"标签B\"\r\n        ]\r\n    }\r\n]"
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/uns/cancelLabel/{alias}:
    put:
      summary: 文件取消标签
      deprecated: false
      description: ''
      tags:
        - 标签管理
      parameters:
        - name: alias
          in: path
          description: 文件别名
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                description: 标签名称 最长63
                maxLength: 63
              description: 需要取消的标签名称数组，标签名称不存在则忽略
            example:
              - 标签A
              - 标签b
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/user/pageList:
    get:
      summary: 用户列表
      deprecated: false
      description: ''
      operationId: openUserPageList
      tags:
        - 用户管理
      parameters:
        - name: pageNo
          in: query
          description: 当前页数
          required: true
          example: 1
          schema:
            type: integer
            default: 1
        - name: pageSize
          in: query
          description: 每页记录数，默认为20，最大支持1000
          required: true
          example: 20
          schema:
            type: integer
            default: 20
        - name: username
          in: query
          description: 用户名，精准查询
          required: false
          example: zhangsan
          schema:
            type: string
        - name: displayName
          in: query
          description: 显示名称 支持模糊查询
          required: false
          example: 张三
          schema:
            type: string
        - name: email
          in: query
          description: 邮箱  支持模糊查询
          required: false
          schema:
            type: string
            format: email
        - name: phone
          in: query
          description: 手机号 支持模糊查询
          required: false
          schema:
            type: string
        - name: enabled
          in: query
          description: 是否启用
          required: false
          example: 'true'
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                type: object
                properties:
                  pageNo:
                    type: integer
                    description: 当前页数
                    format: int64
                  pageSize:
                    type: integer
                    description: 每页记录数
                    format: int64
                  total:
                    type: integer
                    format: int64
                  code:
                    type: integer
                    format: int64
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/UserDetail'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/user/{username}:
    get:
      summary: 用户详情
      deprecated: false
      description: ''
      operationId: UserDetail
      tags:
        - 用户管理
      parameters:
        - name: username
          in: path
          description: ''
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                properties:
                  email:
                    type: string
                    description: 邮箱
                    example: xxx@supos.com
                  phone:
                    type: string
                    description: 手机号
                  username:
                    type: string
                    description: 用户名 英文+数组 长度3-20位
                    minLength: 3
                    maxLength: 200
                    pattern: ^[\u4e00-\u9fa5a-zA-Z0-9_\-.@&+]*$
                  displayName:
                    type: string
                    description: 显示名
                  roleList:
                    type: array
                    items:
                      type: object
                      properties:
                        roleName:
                          type: string
                          description: 角色名称
                        roleId:
                          type: string
                          description: 角色ID
                      required:
                        - roleName
                        - roleId
                    description: 角色列表
                required:
                  - username
                  - roleList
                  - displayName
                $ref: '#/components/schemas/UserDetail'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/todo:
    get:
      summary: 分页查询待办信息
      deprecated: false
      description: (OPEN-API)
      operationId: pageListByOpen
      tags:
        - 待办中心
      parameters:
        - name: pageNo
          in: query
          description: 当前页数
          required: true
          example: 1
          schema:
            type: integer
        - name: pageSize
          in: query
          description: 每页记录数，默认为20，最大支持1000
          required: true
          example: 20
          schema:
            type: integer
        - name: moduleCode
          in: query
          description: 模块编码
          required: false
          example: ''
          schema:
            type: string
        - name: status
          in: query
          description: 代办状态：0-未处理 1-已处理
          required: false
          schema:
            type: integer
        - name: todoMsg
          in: query
          description: 任务名称，支持模糊匹配
          required: false
          schema:
            type: string
        - name: handlerUsername
          in: query
          description: 处理人用户名
          required: false
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/PageResultDTOTodoVo'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
    post:
      summary: 创建待办
      deprecated: false
      description: ''
      operationId: createTodo
      tags:
        - 待办中心
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: 用户账号
                moduleCode:
                  type: string
                  description: 模块编码
                moduleName:
                  type: string
                  description: 模块名称
                todoMsg:
                  type: string
                  description: 事项信息
              required:
                - moduleCode
                - moduleName
                - todoMsg
                - username
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/todo/handle:
    post:
      summary: 处理待办
      deprecated: false
      description: (OPEN-API)
      operationId: handle
      tags:
        - 待办中心
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                  description: 待办ID
                  format: int64
                username:
                  type: string
                  description: 处理人用户账号
              required:
                - id
                - username
            examples: {}
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/todo/moduleList:
    get:
      summary: 获取待办的模块列表
      deprecated: false
      description: (OPEN-API)
      operationId: getModuleList
      tags:
        - 待办中心
      parameters: []
      responses:
        '200':
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVOSysModuleDto'
          headers: {}
        '400':
          description: Bad Request
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
        '405':
          description: Method Not Allowed
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ResultVO'
          headers: {}
      security:
        - apikey-header-apikey: []
  /open-api/health:
    get:
      summary: 检测平台健康状态接口
      deprecated: false
      description: 检测平台容器的运行状态
      tags:
        - 健康检查
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      status:
                        type: string
                        description: 运行状态：running、stop
                      overview:
                        type: object
                        properties:
                          total:
                            type: integer
                            description: 容器总数
                          running:
                            type: integer
                            description: 运行中的容器数量
                          stop:
                            type: integer
                            description: 已停止的容器数量
                        required:
                          - total
                          - running
                          - stop
                      container:
                        type: object
                        properties:
                          running:
                            type: array
                            items:
                              type: string
                            description: 运行中的容器名称列表
                          stop:
                            type: array
                            items:
                              type: string
                            description: 已停止的容器名称列表
                        required:
                          - running
                          - stop
                    required:
                      - status
                      - overview
                      - container
                required:
                  - data
              example:
                data:
                  status: running
                  overview:
                    total: 10
                    running: 10
                    stop: 0
                  container:
                    running:
                      - backend
                      - frontend
                    stop: []
                type: string
          headers: {}
      security:
        - apikey-header-apikey: []
components:
  schemas:
    UpdateFileDTO:
      type: object
      properties:
        alias:
          type: string
          description: 文件别名
        data:
          type: object
          additionalProperties:
            type: object
            description: >-
              字段名称，字段值的键值对；日期类型支持：时间戳、UTC日期格式（2021-03-04T05:04:11Z、2021-04-06T16:00:00.000+08:00）
          description: >-
            字段名称，字段值的键值对；日期类型支持：时间戳、UTC日期格式（2021-03-04T05:04:11Z、2021-04-06T16:00:00.000+08:00）
          properties: {}
    PageResultDTOTodoVo:
      type: object
      properties:
        pageNo:
          type: integer
          description: 当前页数
          format: int64
        pageSize:
          type: integer
          description: 每页记录数
          format: int64
        total:
          type: integer
          format: int64
        code:
          type: integer
          format: int64
        data:
          type: array
          items:
            $ref: '#/components/schemas/TodoVo'
    TodoVo:
      type: object
      properties:
        id:
          type: integer
          format: int64
        userId:
          type: string
          description: ' 接收人用户ID'
        username:
          type: string
          description: 接收人用户名
        moduleCode:
          type: string
          description: 模块编码
        moduleName:
          type: string
          description: 模块名称
        status:
          type: integer
          format: int32
          description: 代办状态：0-未处理 1-已处理
        todoMsg:
          type: string
          description: 任务
        link:
          type: string
          description: 链接
        handlerUserId:
          type: string
          description: 处理人用户ID
        handlerUsername:
          type: string
          description: 处理人用户名
        handlerTime:
          type: string
          format: date-time
          description: 处理时间
        createAt:
          type: string
          format: date-time
          description: 创建时间
    Fill:
      type: object
      properties:
        strategy:
          type: string
          description: 补点策略，支持：none、previous、line
      description: 补点策略对象
    GroupBy:
      type: object
      properties:
        time:
          type: string
          description: 窗口配置字符串，如 5s,1s
      description: 聚合窗口配置对象
    ResultVOSysModuleDto:
      type: object
      properties:
        code:
          type: integer
          format: int32
        msg:
          type: string
        data:
          $ref: '#/components/schemas/SysModuleDto'
    SysModuleDto:
      type: object
      properties:
        moduleCode:
          type: string
          description: 模块编码
        moduleName:
          type: string
          description: 模块名称
    FieldDefine:
      required:
        - name
        - type
      type: object
      properties:
        name:
          type: string
          description: 字段名：字母开头，支持字母、数字和下划线，最长63
        type:
          type: string
          description: 字段类型：INTEGER, LONG, FLOAT, DOUBLE, BOOLEAN, DATETIME, STRING
        unique:
          type: boolean
          description: 是否唯一约束，新建模板时，此参数不生效
        index:
          type: string
          description: 对应的协议字段key，新建模板时，此参数不生效
        displayName:
          type: string
          description: 显式名
        remark:
          type: string
          description: 备注
        maxLen:
          type: integer
          description: 最大长度(string字段类型生效)
          format: int32
        systemField:
          type: boolean
          description: 是否系统参数，新建模板时，此参数不生效
      description: 新增的字段
    TemplateVo:
      type: object
      properties:
        id:
          type: integer
          description: 模板ID
          format: int64
        name:
          type: string
          description: 模板名称
        alias:
          type: string
          description: 别名
        definition:
          type: array
          description: 字段定义
          items:
            $ref: '#/components/schemas/FieldDefine'
        createTime:
          type: integer
          description: 创建时间--单位：毫秒
          format: int64
        description:
          type: string
          description: 模型描述
    ResultVO:
      type: object
      properties:
        code:
          type: integer
          format: int32
          description: 状态码 200-成功 400-参数错误 500-接口异常
        msg:
          type: string
          description: 响应消息
        data:
          type: object
          properties: {}
          description: 响应数据
    TemplateQueryVo:
      type: object
      properties:
        pageNo:
          minimum: 1
          type: integer
          description: 当前页数，默认为1
          format: int64
        pageSize:
          minimum: 1
          type: integer
          description: 每页记录数，默认为20，最大支持1000
          format: int64
        key:
          type: string
          description: 搜索关键字
    PageResultDTOTemplateSearchResult:
      type: object
      properties:
        pageNo:
          type: integer
          description: 当前页数
          format: int64
        pageSize:
          type: integer
          description: 每页记录数
          format: int64
        total:
          type: integer
          format: int64
          description: 总记录数
        code:
          type: integer
          format: int64
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                description: 模板ID
              name:
                type: string
                description: 模板名称
              description:
                type: string
                description: 模型描述
              alias:
                type: string
                description: 别名
    TemplateSearchResult:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
          description: 模板名称
        description:
          type: string
          description: 模型描述
        alias:
          type: string
          description: 别名
    ResultVOString:
      type: object
      properties:
        code:
          type: integer
          format: int32
        msg:
          type: string
        data:
          type: string
    ResultVOTemplateVo:
      type: object
      properties:
        code:
          type: integer
          format: int32
          description: 状态码200成功  其他失败
        msg:
          type: string
          description: 提示消息
        data:
          $ref: '#/components/schemas/TemplateVo'
          description: 返回数据
    InstanceDetail:
      type: object
      properties:
        id:
          type: string
          description: 文件ID
        name:
          type: string
          description: 文件名
        displayName:
          type: string
          description: 显示名
        alias:
          type: string
          description: 别名
        parentAlias:
          type: string
          description: 父级别名
        path:
          type: string
          description: 全路径
        dataType:
          type: integer
          description: 1--时序，2--关系，3--计算型, 6--聚合 7--引用
          format: int32
        pathType:
          type: integer
          description: 文件类型 0--文件夹，2--文件
          format: int32
        definition:
          type: array
          description: 字段定义
          items:
            $ref: '#/components/schemas/FieldDefine'
        description:
          type: string
          description: 描述
        persistence:
          type: boolean
          description: 是否持久化
        expression:
          type: string
          description: 表达式，引用用 id
        frequency:
          type: string
          description: 聚合计算频率：当聚合类型时(dataType=6)的计算时间间隔，单位支持：秒:s 分钟:m 小时：h；如三分钟：3m
        showExpression:
          type: string
          description: 用于展示的表达式，引用用 path
        refers:
          type: array
          description: 引用对象
          items:
            $ref: '#/components/schemas/refres'
        pathName:
          type: string
          description: 文件路径名
        templateAlias:
          type: string
          description: 引用的模板别名
        extendProperties:
          type: object
          additionalProperties:
            type: object
            description: 扩展字段JSON
          description: 扩展属性
          properties: {}
        updateTime:
          type: integer
          description: 修改时间--单位：毫秒
          format: int64
        createTime:
          type: integer
          description: 创建时间--单位：毫秒
          format: int64
      required:
        - frequency
    refres:
      type: object
      properties:
        alias:
          type: string
          description: 引用的文件别名
        field:
          type: string
          description: 引用的字段
        uts:
          type: boolean
          description: 是否引用文件的质量码和时间戳，当文件dataType=3计算型时生效，默认为false
    fileVoDetail2:
      type: object
      properties:
        id:
          type: string
          description: ID
        name:
          type: string
          description: 名称
          minLength: 1
          maxLength: 63
        displayName:
          type: string
          description: 显示名
          maxLength: 128
        alias:
          type: string
          description: 别名
        parentAlias:
          type: string
          description: 父级别名
        path:
          type: string
          description: 全路径
        pathName:
          type: string
          description: 路径名
        description:
          type: string
          description: 模型描述
        definition:
          type: array
          description: 字段定义
          items:
            $ref: '#/components/schemas/FieldDefine'
        extendProperties:
          type: object
          additionalProperties:
            type: object
            description: 扩展字段JSON
          description: 扩展属性
          properties: {}
        templateAlias:
          type: string
          description: 关联的模板别名
        updateTime:
          type: integer
          description: 修改时间--单位：毫秒
          format: int64
        createTime:
          type: integer
          description: 创建时间--单位：毫秒
          format: int64
    UserDetail:
      type: object
      properties:
        username:
          type: string
          description: 用户名 英文+数组 长度3-20位
          minLength: 3
          maxLength: 200
          pattern: ^[\u4e00-\u9fa5a-zA-Z0-9_\-.@&+]*$
        displayName:
          type: string
          description: 显示名
        email:
          type: string
          description: 邮箱
          example: xxx@supos.com
        phone:
          type: string
          description: 手机号
        enable:
          type: boolean
          description: 是否启用
        roleList:
          type: array
          items:
            type: object
            properties:
              roleId:
                type: string
                description: 角色ID
              roleName:
                type: string
                description: 角色名称
            required:
              - roleName
              - roleId
          description: 角色列表
      required:
        - username
        - roleList
        - displayName
        - enable
  securitySchemes:
    apikey-header-apikey:
      type: apiKey
      in: header
      name: apikey
servers: []
security: []
